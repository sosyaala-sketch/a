<!DOCTYPE html>
<html lang="tr">
<!-- Version: 1.1.1 - Updated: 2026-02-11 -->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sınıf Panosu</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/ai_hub.css">
    <link rel="stylesheet" href="css/exams.css">
    <link rel="stylesheet" href="css/liquid_glass.css">
    <link rel="stylesheet" href="css/mobile_modern.css">
    <link rel="stylesheet" href="css/hub_mobile.css">
    <link rel="stylesheet" href="css/calendar.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Outfit:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes slideUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .animate-fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        /* CRITICAL HUB VISIBILITY */
        .hub-desktop-view {
            display: block !important;
        }

        .hub-mobile-view {
            display: none !important;
        }

        @media (max-width: 768px) {
            .hub-desktop-view {
                display: none !important;
            }

            .hub-mobile-view {
                display: block !important;
            }
        }
    </style>
</head>

<body>
    <header>
        <div class="header-container">
            <div class="logo" onclick="showPage('home')">SOSYAAL 9A</div>
            <nav>
                <a onclick="showPage('home')" id="nav-home">Ana Sayfa</a>
                <a onclick="showPage('schedule')" id="nav-schedule">Ders Programı</a>
                <a onclick="showPage('homework')" id="nav-homework">Ödevler</a>
                <a onclick="showPage('exams')" id="nav-exams">Yazılılar</a>
                <a onclick="showPage('calendar')" id="nav-calendar">Takvim</a>
                <a onclick="showPage('hub')" id="nav-hub">Hub</a>
                <a onclick="showPage('ai')" id="nav-ai">SENA AI</a>
            </nav>
        </div>
    </header>

    <!-- Home Page -->
    <div id="homePage" class="page active">
        <!-- Desktop Home View -->
        <div class="desktop-home-view">
            <section class="hero">
                <div class="search-container">
                    <form action="https://www.google.com/search" method="get" target="_blank"
                        style="width: 100%; display: block; position: relative;">
                        <input type="text" name="q" class="search-box" placeholder="Google'da bir şeyler ara..."
                            autocomplete="off">
                        <button type="submit" class="search-icon"
                            style="background: transparent; border: none; padding: 0;">
                            <i data-lucide="search"></i>
                        </button>
                    </form>
                </div>



                <div class="hero-widgets-container">
                    <div class="clock-widget">
                        <div id="currentTime" class="time-large"></div>
                        <div id="currentDate" class="date-large"></div>
                    </div>
                    <div id="weatherWidget" class="weather-widget" onclick="openWeatherModal()">
                        <!-- Weather content loaded via JS -->
                        <div class="weather-loading">
                            <i data-lucide="loader-2" class="spin"></i>
                        </div>
                    </div>
                </div>

                <!-- Weather Modal -->
                <div id="weatherModal" class="modal-overlay"
                    style="display: none; align-items: center; justify-content: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 2000; background: rgba(0,0,0,0.7); backdrop-filter: blur(25px) saturate(180%); -webkit-backdrop-filter: blur(25px) saturate(180%); padding: 20px; overflow-y: auto;"
                    onclick="if(event.target === this) closeWeatherModal()">
                    <div class="weather-modal-content"
                        style="background: rgba(20, 20, 20, 0.4); border: 1px solid rgba(255,255,255,0.15); border-radius: 40px; padding: 40px; max-width: 1200px; width: 100%; backdrop-filter: blur(20px); box-shadow: 0 40px 100px rgba(0,0,0,0.6), inset 0 0 40px rgba(255,255,255,0.02); position: relative; overflow: hidden; margin: auto;">
                        <!-- Rim Highlight -->
                        <div
                            style="position: absolute; top: 0; left: 0; right: 0; height: 1px; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);">
                        </div>

                        <!-- Header -->
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 35px;">
                            <div>
                                <p
                                    style="color: rgba(255,255,255,0.4); font-size: 10px; font-weight: 800; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 5px;">
                                    DETAYLI HAVA DURUMU</p>
                                <h3
                                    style="margin: 0; font-size: 32px; font-weight: 900; color: #fff; font-style: italic; letter-spacing: -1px;">
                                    Ankara</h3>
                            </div>
                            <button onclick="closeWeatherModal()"
                                style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.1); color: #fff; width: 45px; height: 45px; border-radius: 20px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                                <i data-lucide="x" style="width: 20px; height: 20px;"></i>
                            </button>
                        </div>

                        <!-- Current Weather Card -->
                        <div id="currentWeatherCard"
                            style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(139, 92, 246, 0.15)); border: 1px solid rgba(255,255,255,0.2); border-radius: 30px; padding: 35px; margin-bottom: 30px; position: relative; overflow: hidden;">
                            <div
                                style="position: absolute; top: 0; right: 0; width: 200px; height: 200px; background: radial-gradient(circle, rgba(255,255,255,0.1), transparent); pointer-events: none;">
                            </div>
                            <!-- Current weather details will be injected here -->
                        </div>

                        <!-- Tabs -->
                        <div
                            style="display: flex; gap: 10px; margin-bottom: 30px; background: rgba(255,255,255,0.02); padding: 6px; border-radius: 18px; border: 1px solid rgba(255,255,255,0.08);">
                            <button id="weatherTabHourly" onclick="switchWeatherTab('hourly')"
                                style="flex: 1; padding: 12px 20px; border-radius: 14px; border: none; background: #fff; color: #000; font-size: 12px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px; cursor: pointer; transition: all 0.3s;">
                                Saatlik Tahmin
                            </button>
                            <button id="weatherTabDaily" onclick="switchWeatherTab('daily')"
                                style="flex: 1; padding: 12px 20px; border-radius: 14px; border: none; background: transparent; color: rgba(255,255,255,0.4); font-size: 12px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px; cursor: pointer; transition: all 0.3s;">
                                7 Günlük Tahmin
                            </button>
                            <button id="weatherTabDetails" onclick="switchWeatherTab('details')"
                                style="flex: 1; padding: 12px 20px; border-radius: 14px; border: none; background: transparent; color: rgba(255,255,255,0.4); font-size: 12px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px; cursor: pointer; transition: all 0.3s;">
                                Detaylı Veriler
                            </button>
                        </div>

                        <!-- Hourly Weather -->
                        <div id="hourlyWeatherContainer" style="display: block;">
                            <div id="hourlyWeatherList"
                                style="display: flex; gap: 15px; overflow-x: auto; padding-bottom: 10px; scrollbar-width: thin; scrollbar-color: rgba(255,255,255,0.2) transparent;">
                                <!-- Hourly items via JS -->
                            </div>
                        </div>

                        <!-- Daily Weather -->
                        <div id="dailyWeatherContainer" style="display: none;">
                            <div id="dailyWeatherList" style="display: flex; flex-direction: column; gap: 12px;">
                                <!-- Daily items via JS -->
                            </div>
                        </div>

                        <!-- Detailed Metrics -->
                        <div id="detailsWeatherContainer" style="display: none;">
                            <div id="detailedMetricsGrid"
                                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px;">
                                <!-- Detailed metrics via JS -->
                            </div>
                        </div>
                    </div>
                </div>


                <div class="day-selector">
                    <button class="day-btn" data-day="Pazartesi">Pzt</button>
                    <button class="day-btn" data-day="Salı">Salı</button>
                    <button class="day-btn" data-day="Çarşamba">Çarş</button>
                    <button class="day-btn" data-day="Perşembe">Perş</button>
                    <button class="day-btn" data-day="Cuma">Cuma</button>
                </div>

                <div class="schedule-viewer">
                    <div id="carousel" class="carousel-container">
                        <!-- Lessons will be added here -->
                    </div>
                </div>
            </section>
        </div>

        <!-- Mobile Home View (Dashboard Style) -->
        <!-- Mobile Home View (Modern Dashboard Style) -->
        <div class="mobile-home-view mobile-only">
            <!-- New Modern Mobile Header -->
            <div class="mobile-header">
                <div class="header-left">
                    <p class="summary-label">GÜNLÜK ÖZET</p>
                    <h1 id="mobileDateDisplay">Salı, 10 Şubat</h1>
                </div>
                <div class="header-right" style="display: flex; align-items: center; gap: 10px;">
                    <!-- Mobile Weather Summary -->
                    <div id="mobileWeatherParams"
                        style="display:flex; align-items:center; gap:6px; background:rgba(0,0,0,0.05); padding:6px 10px; border-radius:16px; border:1px solid rgba(0,0,0,0.05); cursor:pointer;"
                        onclick="showPage('weather')">
                        <div id="mWeatherIcon"><i data-lucide="cloud"
                                style="width:16px; height:16px; color:#1a1a1a;"></i></div>
                        <span id="mWeatherTemp" style="font-weight:800; font-size:13px; color:#1a1a1a;">--°</span>
                    </div>
                    <div class="header-icon-btn" onclick="showPage('weather')">
                        <i data-lucide="bell"></i>
                    </div>
                </div>
            </div>

            <!-- New Scrollable Top Nav Bar -->
            <div class="mobile-top-nav-container">
                <div class="mobile-top-nav">
                    <a onclick="showPage('home')" class="active">Ana Sayfa</a>
                    <a onclick="showPage('schedule')">Ders Programı</a>
                    <a onclick="showPage('homework')">Ödevler</a>
                    <a onclick="showPage('exams')">Yazılılar</a>
                    <a onclick="showPage('calendar')">Takvim</a>
                    <a onclick="showPage('hub')">Hub</a>
                    <a onclick="showPage('ai')">AI</a>
                </div>
            </div>

            <!-- Modern Quick Action Grid (Circular) - Commented out as requested
            <div class="modern-action-grid">
                <div class="modern-grid-item" onclick="showPage('homework')">
                    <div class="modern-icon-circle orange"><i data-lucide="clipboard-list"></i></div>
                    <span>ÖDEVLER</span>
                </div>
                <div class="modern-grid-item" onclick="showPage('exams')">
                    <div class="modern-icon-circle purple"><i data-lucide="edit-3"></i></div>
                    <span>YAZILILAR</span>
                </div>
                <div class="modern-grid-item" onclick="showPage('hub')">
                    <div class="modern-icon-circle brown"><i data-lucide="compass"></i></div>
                    <span>HUB</span>
                </div>
                <div class="modern-grid-item" onclick="showPage('ai')">
                    <div class="modern-icon-circle sand"><i data-lucide="message-square"></i></div>
                    <span>SENA</span>
                </div>
            </div>
            -->

            <!-- Current Lesson Hero Card (Sleek/Thin) -->
            <div class="modern-hero-section">
                <div class="modern-hero-card">
                    <div class="hero-top">
                        <span class="now-badge">ŞU AN</span>
                        <div class="hero-time-info">
                            <span id="mobileHeroTime">14:40</span>
                            <span id="mobileHeroEndTime">15:20 biter</span>
                        </div>
                    </div>
                    <h2 id="mobileHeroSubject">İngilizce</h2>
                    <div class="hero-bottom">
                        <div class="hero-location">
                            <i data-lucide="map-pin"></i>
                            <span id="mobileHeroLocation">Derslik 9A</span>
                        </div>
                        <div id="mobileHeroHwStatus" class="hero-hw-status">
                            <!-- JS will inject "Ödev Var" badge if needed -->
                        </div>
                    </div>
                    <div class="hero-progress-bar">
                        <div id="heroProgressFill" class="progress-fill"></div>
                    </div>
                </div>
            </div>


            <!-- Minimalist Day Selector (Circular) -->
            <div class="modern-calendar-section">
                <p class="section-label">DERS PROGRAMI</p>
                <div class="modern-day-selector">
                    <div class="day-col">
                        <span class="day-name">PZT</span>
                        <button class="day-circle" data-day="Pazartesi">9</button>
                    </div>
                    <div class="day-col">
                        <span class="day-name">SAL</span>
                        <button class="day-circle active" data-day="Salı">10</button>
                    </div>
                    <div class="day-col">
                        <span class="day-name">ÇAR</span>
                        <button class="day-circle" data-day="Çarşamba">11</button>
                    </div>
                    <div class="day-col">
                        <span class="day-name">PER</span>
                        <button class="day-circle" data-day="Perşembe">12</button>
                    </div>
                    <div class="day-col">
                        <span class="day-name">CUM</span>
                        <button class="day-circle" data-day="Cuma">13</button>
                    </div>
                </div>
            </div>

            <!-- Weekly Flow (Timeline) -->
            <div class="modern-timeline-section">
                <div class="section-header">
                    <p class="section-label">HAFTALIK AKIŞ</p>
                    <button class="see-all-btn" onclick="showPage('schedule')">Tümünü Gör</button>
                </div>
                <div id="mobileHomeTimeline" class="modern-timeline-grid">
                    <!-- Timeline cards will be rendered here by JS -->
                </div>
            </div>
        </div>
    </div>

    <!-- Schedule Page -->
    <div id="schedulePage" class="page">
        <div class="schedule-table-container">
            <div id="desktopScheduleControls"
                style="margin-bottom: 25px; display: flex; justify-content: center; align-items: center; gap: 20px;">
                <h2 style="font-size: 28px; letter-spacing: 1px;">HAFTALIK DERS PROGRAMI</h2>
            </div>
            <!-- ... Table and buttons ... -->

            <!-- Mobile Timeline (Visible only on mobile) -->
            <div id="mobileScheduleContainer" style="display: none;">
                <div class="mobile-schedule-header">
                    <button class="mobile-icon-back-btn" onclick="showPage('home')">
                        <i data-lucide="chevron-left"></i>
                    </button>
                    <div class="mobile-schedule-tabs">
                        <button onclick="setMobileScheduleView('today')" id="mobile-tab-today"
                            class="mobile-tab-btn active">BUGÜN</button>
                        <button onclick="setMobileScheduleView('tomorrow')" id="mobile-tab-tomorrow"
                            class="mobile-tab-btn">YARIN</button>
                        <button onclick="setMobileScheduleView('week')" id="mobile-tab-week"
                            class="mobile-tab-btn">HAFTA</button>
                    </div>
                </div>
                <div id="schedulePageTimeline" class="mobile-timeline-container">
                    <!-- Mobile timeline items loaded here -->
                </div>
            </div>

            <!-- Desktop Table (Hidden on mobile via CSS) -->
            <table class="schedule-table">
                <thead>
                    <tr>
                        <th>Pazartesi</th>
                        <th>Salı</th>
                        <th>Çarşamba</th>
                        <th>Perşembe</th>
                        <th>Cuma</th>
                    </tr>
                </thead>
                <tbody id="scheduleTableBody">
                    <!-- Updated with new 8-lesson structure -->
                    <tr>
                        <td>08:00 Sağlık</td>
                        <td>08:00 Edebiyat</td>
                        <td>08:00 Tarih</td>
                        <td>08:00 Görsel S.</td>
                        <td>08:00 Coğrafya</td>
                    </tr>
                    <tr>
                        <td>08:50 Sos. Hayat</td>
                        <td>08:50 Edebiyat</td>
                        <td>08:50 Tarih</td>
                        <td>08:50 Görsel S.</td>
                        <td>08:50 Coğrafya</td>
                    </tr>
                    <tr>
                        <td>09:40 İngilizce</td>
                        <td>09:40 Matematik</td>
                        <td>09:40 Edebiyat</td>
                        <td>09:40 Edebiyat</td>
                        <td>09:40 Biyoloji</td>
                    </tr>
                    <tr>
                        <td>10:30 İngilizce</td>
                        <td>10:30 Matematik</td>
                        <td>10:30 Edebiyat</td>
                        <td>10:30 Fizik</td>
                        <td>10:30 Biyoloji</td>
                    </tr>
                    <tr>
                        <td>11:30 Beden E.</td>
                        <td>11:30 Almanca</td>
                        <td>11:30 Dini Bilgi</td>
                        <td>11:30 Fizik</td>
                        <td>11:30 Matematik</td>
                    </tr>
                    <tr>
                        <td>13:00 Beden E.</td>
                        <td>13:00 Almanca</td>
                        <td>13:00 Bilişim</td>
                        <td>13:00 Rehberlik</td>
                        <td>12:15 Matematik</td>
                    </tr>
                    <tr>
                        <td>13:50 Kimya</td>
                        <td>13:50 İngilizce</td>
                        <td>13:50 Matematik</td>
                        <td>13:50 Din Kült.</td>
                        <td>13:50 Almanca</td>
                    </tr>
                    <tr>
                        <td>14:40 Kimya</td>
                        <td>14:40 İngilizce</td>
                        <td>14:40 Matematik</td>
                        <td>14:40 Din Kült.</td>
                        <td>14:35 Almanca</td>
                    </tr>
                </tbody>
            </table>


        </div>
    </div>
    </div>


    <!-- Homework Page -->
    <div id="homeworkPage" class="page">
        <!-- New Mobile Homework Header -->
        <div class="mobile-header mobile-only">
            <div class="mobile-header-top">
                <button class="mobile-icon-back-btn" onclick="showPage('home')">
                    <i data-lucide="chevron-left"></i>
                </button>
                <h1>Ödevler</h1>
                <div class="mobile-header-actions">
                    <button class="mobile-icon-btn" onclick="openHomeworkModal()">
                        <i data-lucide="plus"></i>
                    </button>
                </div>
            </div>

            <div class="mobile-stats-row">
                <div class="mobile-stat-card">
                    <span class="stat-value" id="mobileHwTotalCount">0</span>
                    <span class="stat-label">Toplam</span>
                </div>
                <div class="mobile-stat-card urgent">
                    <span class="stat-value" id="mobileHwUrgentCount">0</span>
                    <span class="stat-label">Acil</span>
                </div>
                <div class="mobile-stat-card completed" onclick="alert('Tamamlananlar yakında!')">
                    <span class="stat-value">0</span>
                    <span class="stat-label">Biten</span>
                </div>
            </div>
        </div>

        <div class="homework-layout">
            <!-- Left Column: Controls & List -->
            <div class="homework-left-column homework-list-container">

                <!-- Desktop Only Section -->
                <div class="desktop-only">
                    <button onclick="openHomeworkModal()" class="liquid-glass-btn"
                        style="width: 100%; padding: 18px; border-radius: 16px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 12px; margin-bottom: 20px; border: none;">
                        <i data-lucide="plus-circle" style="width: 20px; height: 20px;"></i> YENİ ÖDEV EKLE
                    </button>

                    <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                        <button id="sortDueBtn" onclick="sortHomework('dueDate')"
                            style="flex: 1; padding: 10px; border-radius: 10px; border: 1px solid #333; background: transparent; color: #888; font-size: 12px; cursor: pointer; transition: all 0.3s;">Bitiş
                            Tarihi</button>
                        <button id="sortGivenBtn" onclick="sortHomework('givenDate')"
                            style="flex: 1; padding: 10px; border-radius: 10px; border: 1px solid #333; background: transparent; color: #888; font-size: 12px; cursor: pointer; transition: all 0.3s;">Veriliş
                            Tarihi</button>
                    </div>

                    <div id="homeworkCards" style="height: 600px; overflow-y: auto; padding-right: 5px;">
                        <!-- Desktop Homework cards -->
                    </div>
                </div>

                <!-- Modern Mobile Homework List -->
                <div class="mobile-only">
                    <div class="mobile-hw-filter-tabs">
                        <button class="hw-tab active" onclick="sortHomework('dueDate')">Süresi Yaklaşan</button>
                        <button class="hw-tab" onclick="sortHomework('givenDate')">Yeni Eklenenler</button>
                    </div>

                    <div id="mobileHomeworkList" class="mobile-modern-hw-list">
                        <!-- New premium card design will be rendered here -->
                    </div>
                </div>
            </div>

            <!-- Right Column: Calendar Area (Desktop Only) -->
            <div class="desktop-only"
                style="flex: 1; background: rgba(20, 20, 20, 0.4); border-radius: 25px; padding: 30px; border: 1px solid rgba(255,255,255,0.05); height: fit-content;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                    <h2 id="calendarMonthTitle" style="font-size: 24px; letter-spacing: 1px;">OCAK 2026</h2>
                    <div style="display: flex; gap: 15px; align-items: center;">
                        <div class="view-toggles"
                            style="display: flex; background: rgba(255,255,255,0.05); padding: 5px; border-radius: 12px; margin-right: 15px;">
                            <button class="view-toggle active" data-view="month"
                                style="padding: 8px 16px; border-radius: 8px; border: none; background: #222; color: #fff; cursor: pointer; font-size: 13px; font-weight: 600;">Ay</button>
                            <button class="view-toggle" data-view="week"
                                style="padding: 8px 16px; border-radius: 8px; border: none; background: transparent; color: #888; cursor: pointer; font-size: 13px; font-weight: 600;">Hafta</button>
                        </div>
                        <button onclick="previousMonth()"
                            style="background: rgba(255,255,255,0.05); border: none; color: #fff; width: 40px; height: 40px; border-radius: 12px; cursor: pointer;">&lt;</button>
                        <button onclick="nextMonth()"
                            style="background: rgba(255,255,255,0.05); border: none; color: #fff; width: 40px; height: 40px; border-radius: 12px; cursor: pointer;">&gt;</button>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 15px; margin-bottom: 15px;">
                    <div style="text-align: center; color: #888; font-size: 12px; font-weight: 700;">PZT</div>
                    <div style="text-align: center; color: #888; font-size: 12px; font-weight: 700;">SALI</div>
                    <div style="text-align: center; color: #888; font-size: 12px; font-weight: 700;">ÇARŞ</div>
                    <div style="text-align: center; color: #888; font-size: 12px; font-weight: 700;">PERŞ</div>
                    <div style="text-align: center; color: #888; font-size: 12px; font-weight: 700;">CUMA</div>
                    <div style="text-align: center; color: #ff4757; font-size: 12px; font-weight: 700;">CMT</div>
                    <div style="text-align: center; color: #ff4757; font-size: 12px; font-weight: 700;">PAZ</div>
                </div>

                <div id="calendarGrid" style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 15px;">
                    <!-- Calendar cells will be listed here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Homework Detail Modal -->
    <div id="homeworkDetailModal" class="modal-overlay" onclick="if(event.target === this) closeHomeworkDetailModal()"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 2000; background: rgba(0,0,0,0.8); backdrop-filter: blur(8px); justify-content: center; align-items: center;">
        <div class="hub-modal animate-fade"
            style="max-width: 500px; background: #1a1a1a; padding: 40px; border-radius: 30px; border: 1px solid rgba(255, 255, 255, 0.1); width: 90%; position: relative; box-shadow: 0 25px 50px rgba(0,0,0,0.5);">
            <button onclick="closeHomeworkDetailModal()" class="modal-close-btn"
                style="position: absolute; top: 20px; right: 20px; background: rgba(255,255,255,0.1); border: none; color: #fff; width: 32px; height: 32px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                <i data-lucide="x"></i>
            </button>

            <div class="modal-main-content">
                <div
                    style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px; opacity: 0.6; font-size: 10px; font-weight: 900; letter-spacing: 2px; text-transform: uppercase;">
                    <span style="width: 6px; height: 6px; border-radius: 50%; background-color: #3b82f6;"></span>
                    <span>ÖDEV DETAYI</span>
                </div>

                <h4 id="detailSubject" style="margin: 0 0 20px 0; font-size: 24px; color: #fff; font-weight: 700;"></h4>

                <div style="display: flex; flex-direction: column; gap: 1.5rem;">

                    <div>
                        <label
                            style="display: block; color: rgba(255,255,255,0.4); font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px;">Açıklama</label>
                        <p id="detailDescription"
                            style="color: #ddd; font-size: 14px; font-weight: 500; white-space: pre-wrap; line-height: 1.6; margin: 0;">
                        </p>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div>
                            <label
                                style="display: block; color: rgba(255,255,255,0.4); font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px;">Veriliş
                                Tarihi</label>
                            <p id="detailGivenDate" style="color: #fff; font-weight: 600; font-size: 15px; margin: 0;">
                            </p>
                        </div>
                        <div>
                            <label
                                style="display: block; color: rgba(255,255,255,0.4); font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px;">Son
                                Teslim</label>
                            <p id="detailDueDate"
                                style="color: #ef4444; font-weight: bold; font-size: 15px; margin: 0;"></p>
                        </div>
                    </div>

                    <div>
                        <label
                            style="display: block; color: rgba(255,255,255,0.4); font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px;">Teslim
                            Dersi</label>
                        <p id="detailLesson" style="color: #fff; font-weight: 600; font-size: 15px; margin: 0;"></p>
                    </div>

                    <!-- Admin Actions -->
                    <div
                        style="display: flex; gap: 10px; margin-top: 10px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px;">
                        <button id="editHomeworkBtn"
                            style="flex: 1; background: rgba(255,255,255,0.05); color: #aaa; border: none; padding: 12px; border-radius: 12px; cursor: pointer; display: flex; justify-content: center; align-items: center; font-weight: 700; font-size: 12px; transition: all 0.3s;">
                            <i data-lucide="edit-2" style="width: 16px; height: 16px; margin-right: 8px;"></i> DÜZENLE
                        </button>
                        <button id="deleteHomeworkBtn"
                            style="flex: 1; background: rgba(239, 68, 68, 0.1); color: #ef4444; border: none; padding: 12px; border-radius: 12px; cursor: pointer; display: flex; justify-content: center; align-items: center; font-weight: 700; font-size: 12px; transition: all 0.3s;">
                            <i data-lucide="trash-2" style="width: 16px; height: 16px; margin-right: 8px;"></i> SİL
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Weather Page (Mobile Full Screen) -->
    <div id="weatherPage" class="page mobile-only-page" style="background: #fdfaf5 !important;">
        <!-- Mobile Header -->
        <div class="mobile-header">
            <div class="mobile-header-top">
                <button class="mobile-icon-back-btn" onclick="showPage('home')"
                    style="background: #fff; color: #1a1a1a;">
                    <i data-lucide="chevron-left"></i>
                </button>
                <h1>Hava Durumu</h1>
                <div class="mobile-header-actions">
                    <button class="mobile-icon-btn" onclick="fetchWeather()"
                        style="background: #fff; color: #1a1a1a; width: 40px; height: 40px; border-radius: 12px; border: none; display: flex; align-items: center; justify-content: center;">
                        <i data-lucide="refresh-cw"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Content Container -->
        <div class="mobile-weather-content" style="padding: 0 25px; padding-bottom: 100px;">

            <!-- Current Weather Card -->
            <div id="mobileCurrentWeatherCard" class="mobile-current-weather-card">
                <div class="weather-loading" style="text-align: center; padding: 40px;">
                    <i data-lucide="loader-2" class="spin" style="width: 40px; height: 40px; color: #a69076;"></i>
                    <p style="margin-top: 15px; color: #a69076; font-weight: 700;">Yükleniyor...</p>
                </div>
            </div>

            <!-- Weather Tabs -->
            <div class="mobile-weather-tabs"
                style="display: flex; gap: 8px; margin: 20px 0; background: #f1ede6; padding: 5px; border-radius: 18px;">
                <button class="mobile-weather-tab active" onclick="switchMobileWeatherTab('hourly')" data-tab="hourly"
                    style="flex: 1; padding: 12px; border-radius: 14px; border: none; background: #fff; color: #413225; font-size: 11px; font-weight: 900; text-transform: uppercase; letter-spacing: 0.5px; cursor: pointer; transition: all 0.3s;">
                    Saatlik
                </button>
                <button class="mobile-weather-tab" onclick="switchMobileWeatherTab('daily')" data-tab="daily"
                    style="flex: 1; padding: 12px; border-radius: 14px; border: none; background: transparent; color: #a69076; font-size: 11px; font-weight: 900; text-transform: uppercase; letter-spacing: 0.5px; cursor: pointer; transition: all 0.3s;">
                    7 Günlük
                </button>
                <button class="mobile-weather-tab" onclick="switchMobileWeatherTab('details')" data-tab="details"
                    style="flex: 1; padding: 12px; border-radius: 14px; border: none; background: transparent; color: #a69076; font-size: 11px; font-weight: 900; text-transform: uppercase; letter-spacing: 0.5px; cursor: pointer; transition: all 0.3s;">
                    Detaylar
                </button>
            </div>

            <!-- Hourly Weather Container -->
            <div id="mobileHourlyWeatherContainer" class="mobile-weather-tab-content" style="display: block;">
                <div id="mobileHourlyWeatherList" class="mobile-hourly-weather-list">
                    <!-- Hourly items via JS -->
                </div>
            </div>

            <!-- Daily Weather Container -->
            <div id="mobileDailyWeatherContainer" class="mobile-weather-tab-content" style="display: none;">
                <div id="mobileDailyWeatherList" class="mobile-daily-weather-list">
                    <!-- Daily items via JS -->
                </div>
            </div>

            <!-- Details Weather Container -->
            <div id="mobileDetailsWeatherContainer" class="mobile-weather-tab-content" style="display: none;">
                <div id="mobileDetailedMetricsGrid" class="mobile-detailed-metrics-grid">
                    <!-- Detailed metrics via JS -->
                </div>
            </div>

        </div>
    </div>

    <!-- Calendar Page -->
    <div id="calendarPage" class="page">
        <!-- Desktop Calendar View -->
        <div class="desktop-only" style="padding: 40px; background: #020202; min-height: 100vh;">
            <div id="desktopCalendarContainer" style="max-width: 1440px; margin: 0 auto;">
                <!-- Calendar will be rendered here by JavaScript -->
            </div>
        </div>

        <!-- Mobile Calendar View -->
        <div class="mobile-only" style="background: #fdfaf5; min-height: 100vh; color: #1a1a1a;">
            <!-- Mobile Header (Sena Style) -->
            <div class="mobile-header" style="background: transparent; border: none; padding: 25px 20px 10px 20px;">
                <div class="mobile-header-top" style="margin-bottom: 20px;">
                    <button class="mobile-icon-back-btn" onclick="showPage('home')"
                        style="background: #fff; color: #1a1a1a; border: 1px solid rgba(0,0,0,0.05); box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                        <i data-lucide="chevron-left"></i>
                    </button>
                    <h1 style="font-size: 24px; font-weight: 900; color: #121212; letter-spacing: -0.5px;">Takvim</h1>
                    <div class="mobile-header-actions">
                        <button class="mobile-icon-btn" onclick="openAdminModal()" id="mobileAddEventBtn"
                            style="background: #fff; color: #a69076; width: 44px; height: 44px; border-radius: 14px; border: 1px solid rgba(0,0,0,0.05); display: none; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(0,0,0,0.05);">
                            <i data-lucide="plus"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Search Blur Overlay -->
            <div id="mobileCalendarOverlay" class="mobile-calendar-overlay" onclick="closeMobileSearch()"></div>

            <!-- Mobile Calendar Content -->
            <div class="mobile-calendar-wrapper"
                style="padding: 0 15px; padding-bottom: 120px; position: relative; z-index: 10;">

                <!-- Search Bar (Sena AI Style - Moved Above Calendar) -->
                <div id="mobileSearchWrapper" class="mobile-search-bar"
                    style="background: #fff; border: 1px solid rgba(0,0,0,0.05); border-radius: 18px; padding: 12px 18px; display: flex; align-items: center; gap: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.03); position: relative; margin-bottom: 15px; transition: all 0.3s ease;">
                    <i data-lucide="search" style="width: 18px; height: 18px; color: #a69076; flex-shrink: 0;"></i>
                    <input id="mobileCalendarSearch" type="text" placeholder="Tatil veya ders ara..."
                        style="background: transparent; border: none; outline: none; font-size: 15px; font-weight: 600; color: #1a1a1a; width: 100%; padding-left: 2px;"
                        autocomplete="off">
                </div>

                <!-- Category Folders (Now Stacked when search active) -->
                <div id="mobileCategoryFolders" class="mobile-category-folders"
                    style="display: none; margin-bottom: 20px; gap: 10px; overflow-x: auto; padding: 5px 0; scrollbar-width: none; -ms-overflow-style: none;">
                    <!-- Categories will be rendered here via JS -->
                </div>

                <!-- Main Calendar Grid -->
                <div id="mobileCalendarContainer" class="apple-style-calendar"
                    style="background: #fff; border: 1px solid rgba(0,0,0,0.03); border-radius: 28px; padding: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.04); transition: all 0.3s ease;">
                    <!-- Calendar will be rendered here by JavaScript -->
                </div>

                <!-- Selected Day Events (Apple List Style) -->
                <div id="mobileEventsList" class="mobile-events-detail-list" style="margin-top: 25px;">
                    <!-- Events for selected day will be injected here -->
                </div>
            </div>
        </div>

        <!-- Hub Page -->
        <div id="hubPage" class="page">
            <!-- Desktop View -->
            <div id="hubDesktopContainer" class="hub-desktop-view">
                <!-- Header (Derived from hub_app.html) -->
                <header
                    class="px-4 py-4 md:px-12 md:py-5 border-b border-white/5 bg-[#000]/30 backdrop-blur-3xl sticky top-0 z-50">
                    <div class="hub-sidebar-compact flex flex-col md:flex-row items-center justify-between gap-4">
                        <div class="flex flex-col gap-1 w-full md:w-auto">
                            <div class="flex items-center gap-4">
                                <a href="#" onclick="navigateDesktopHubTo(''); return false;"
                                    class="hover:opacity-80 transition-all">
                                    <h1
                                        class="text-xl md:text-2xl font-black tracking-tight uppercase leading-none text-white">
                                        Sınıf<span class="text-white">Hub</span>
                                    </h1>
                                    <p class="text-[8px] font-bold text-white/30 uppercase tracking-[0.4em] mt-0.5">9A
                                        Akıllı Tahta Bulutu</p>
                                </a>
                            </div>
                        </div>

                        <div class="flex flex-col md:flex-row items-center gap-4 w-full md:w-auto">
                            <nav id="hubDesktopFilterNav"
                                class="flex items-center gap-0.5 bg-white/5 p-0.5 rounded-xl border border-white/5 overflow-x-auto max-w-full no-scrollbar">
                                <button data-filter="all"
                                    class="hub-filter-btn active flex items-center gap-2 px-3 py-2 rounded-lg text-[8px] font-black uppercase tracking-widest transition-all">TÜMÜ</button>
                                <button data-filter="image"
                                    class="hub-filter-btn flex items-center gap-2 px-3 py-2 rounded-lg text-[8px] font-black uppercase tracking-widest transition-all">FOTO</button>
                                <button data-filter="file"
                                    class="hub-filter-btn flex items-center gap-2 px-3 py-2 rounded-lg text-[8px] font-black uppercase tracking-widest transition-all">DOSYA</button>
                                <button data-filter="private"
                                    class="hub-filter-btn flex items-center gap-2 px-3 py-2 rounded-lg text-[8px] font-black uppercase tracking-widest transition-all">ÖZEL</button>
                            </nav>

                            <div
                                class="flex items-center gap-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 w-full md:w-[240px] transition-all focus-within:border-white/30 focus-within:bg-white/10 hub-glass-btn">
                                <i data-lucide="search" class="text-white/40 w-3.5 h-3.5"></i>
                                <input id="hubDesktopSearchInput" type="text" placeholder="ARA..."
                                    class="bg-transparent border-none outline-none w-full text-white placeholder:text-white/20 text-[10px] font-black uppercase tracking-widest">
                            </div>

                            <div class="flex items-center gap-2 w-full md:w-auto">
                                <button id="hubDesktopOpenFolderModal"
                                    class="flex-1 md:flex-none p-2.5 hub-glass-btn rounded-xl text-white/60 hover:text-white transition-all active:scale-95"
                                    title="Yeni Klasör">
                                    <i data-lucide="folder-plus" class="w-4 h-4"></i>
                                </button>
                                <button id="hubDesktopOpenAddModal"
                                    class="flex-[2] md:flex-none bg-white hover:bg-zinc-100 text-[#0B0F1A] px-5 py-2.5 rounded-xl font-black flex items-center justify-center gap-2 shadow-xl shadow-white/10 transition-all active:scale-95 uppercase text-[9px] tracking-widest">
                                    <i data-lucide="plus" class="w-3.5 h-3.5"></i> PAYLAŞ
                                </button>
                            </div>
                        </div>
                    </div>
                </header>

                <!-- Main Content -->
                <main class="flex-1 w-full p-4 md:p-10 hub-sidebar-compact">
                    <div id="hubDesktopStatusAlert"
                        class="hidden mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-3 animate-pulse">
                        <i data-lucide="loader-2" class="text-red-500 animate-spin w-4 h-4"></i>
                        <p id="hubDesktopStatusText"
                            class="text-[10px] font-black text-red-500 uppercase tracking-widest"></p>
                    </div>

                    <div class="flex flex-wrap items-center justify-between mb-6 gap-3">
                        <div class="flex flex-col gap-2">
                            <div class="flex items-center gap-3">
                                <i data-lucide="clock" class="text-white w-4 h-4"></i>
                                <h2 class="text-lg md:text-xl font-black uppercase tracking-tight">Bulut Akışı</h2>
                            </div>
                            <div id="hubDesktopBreadcrumb"
                                class="flex items-center gap-2 overflow-x-auto no-scrollbar py-1">
                                <!-- Breadcrumbs -->
                            </div>
                        </div>
                        <div id="hubDesktopStorageStats"
                            class="text-[10px] font-black uppercase tracking-widest text-white/40 bg-white/5 px-3 py-1.5 rounded-lg border border-white/5">
                            ALAN: HESAPLANIYOR...
                        </div>
                    </div>

                    <div id="hubDesktopFileGrid" class="hub-card-grid">
                        <!-- Items -->
                    </div>
                </main>

                <!-- Modals -->
                <div id="hubDesktopAddModal" class="hub-desktop-modal-overlay">
                    <div class="hub-desktop-modal-content w-full max-w-4xl overflow-hidden flex flex-col md:flex-row shadow-2xl relative"
                        style="background: rgba(255,255,255,0.01); backdrop-filter: blur(40px);">
                        <div id="hubDesktopUploadLoader"
                            class="hidden absolute inset-0 z-[110] bg-[#0B0F1A]/95 backdrop-blur-xl flex flex-col items-center justify-center p-8 text-center">
                            <i data-lucide="loader-2" class="w-16 h-16 text-white animate-spin mb-6"></i>
                            <h3 class="text-2xl font-black text-white mb-2 uppercase italic">Bulut Aktarımı</h3>
                            <p class="text-white/40 text-xs font-bold uppercase tracking-widest">Lütfen bekleyin...</p>
                        </div>
                        <div class="hidden md:flex w-[300px] bg-[#000] p-10 flex-col border-r border-white/5">
                            <div
                                class="w-14 h-14 rounded-2xl bg-white flex items-center justify-center font-black text-[#0B0F1A] text-xl mb-12">
                                AT</div>
                            <h2 class="text-3xl font-black mb-8 text-white uppercase italic">YENİ<br /><span
                                    class="text-white">PAYLAŞIM</span></h2>
                            <div
                                class="bg-white/5 border border-white/10 rounded-2xl p-6 text-[9px] text-white/40 space-y-4 font-bold uppercase tracking-tighter">
                                <p class="flex items-center gap-2"><span
                                        class="w-1.5 h-1.5 rounded-full bg-[#00E699]"></span> REPO: 9AHUB</p>
                                <p class="flex items-center gap-2"><span
                                        class="w-1.5 h-1.5 rounded-full bg-[#00E699]"></span> SINIR: 100MB</p>
                            </div>
                        </div>
                        <div class="flex-1 p-6 md:p-10 bg-[#000]/60">
                            <div class="flex justify-between items-center mb-2">
                                <h4 class="font-black text-white uppercase text-xl">Paylaş</h4>
                                <button
                                    class="hub-desktop-close-modal text-white/20 hover:text-white p-2 bg-white/5 rounded-full"><i
                                        data-lucide="x"></i></button>
                            </div>
                            <div id="hubDesktopUploadPathIndicator"
                                class="mb-6 text-[10px] font-bold text-white/40 uppercase tracking-widest flex items-center gap-2">
                                <i data-lucide="folder" class="w-3 h-3"></i>
                                <span id="uploadPathText">Ana Dizin</span>
                            </div>

                            <div class="flex gap-4 mb-8">
                                <button id="hubDesktopTabFile"
                                    class="flex-1 flex items-center justify-center gap-2 p-5 rounded-2xl border-2 border-white bg-white/10 text-white font-black text-[10px] uppercase">
                                    <i data-lucide="upload"></i> DOSYA
                                </button>
                                <button id="hubDesktopTabNote"
                                    class="flex-1 flex items-center justify-center gap-2 p-5 rounded-2xl border-2 border-transparent bg-white/5 text-white/20 font-black text-[10px] uppercase">
                                    <i data-lucide="edit-3"></i> NOT
                                </button>
                            </div>

                            <div class="space-y-6">
                                <div id="hubDesktopFileZone"
                                    class="w-full bg-black/20 border-2 border-dashed border-white/10 rounded-3xl p-8 flex flex-col items-center justify-center cursor-pointer hover:border-white/40 transition-all">
                                    <input type="file" id="hubDesktopFileInput" class="hidden">
                                    <i data-lucide="file" class="text-white mb-3"></i>
                                    <p id="hubDesktopFileNameDisplay"
                                        class="text-white/40 font-bold text-xs uppercase tracking-widest text-center truncate w-full">
                                        Dosya Seçiniz</p>
                                </div>

                                <input id="hubDesktopItemTitle" type="text" placeholder="İsimlendir (Zorunlu)"
                                    class="w-full hub-modal-input-glass rounded-xl px-6 py-4 text-white font-black">
                                <input id="hubDesktopItemUploader" type="text" placeholder="Kim yüklüyor? (Profil)"
                                    class="w-full hub-modal-input-glass rounded-xl px-6 py-4 text-white font-black">
                                <textarea id="hubDesktopItemContent" placeholder="Notunuzu yazın..." rows="3"
                                    class="hidden w-full hub-modal-input-glass rounded-xl px-6 py-4 text-white font-bold resize-none"></textarea>

                                <div
                                    class="bg-black/30 p-5 rounded-2xl border border-white/5 flex items-center justify-between gap-4">
                                    <div class="flex items-center gap-3">
                                        <i data-lucide="shield-check" class="text-white/10"></i>
                                        <p class="text-[10px] font-black text-white uppercase">Şifreli Koruma</p>
                                    </div>
                                    <input id="hubDesktopItemPassword" type="password" placeholder="ŞİFRE"
                                        class="hub-modal-input-glass rounded-lg px-4 py-2 text-xs font-black text-white w-24">
                                </div>
                            </div>

                            <div class="mt-8 flex gap-4">
                                <button
                                    class="hub-desktop-close-modal flex-1 py-4 font-black text-white/20 text-[10px] uppercase">Vazgeç</button>
                                <button id="hubDesktopSubmitShare"
                                    class="flex-[2] bg-white text-[#0B0F1A] font-black py-4 rounded-xl shadow-xl shadow-white/5 text-xs uppercase">Buluta
                                    Aktar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="hubDesktopFolderModal" class="hub-desktop-modal-overlay">
                    <div class="hub-desktop-modal-content w-full max-w-lg p-10 relative">
                        <button class="hub-desktop-close-modal absolute top-8 right-8 text-white/20"><i
                                data-lucide="x"></i></button>
                        <h2 class="text-2xl font-black uppercase text-center mb-8 italic text-white">YENİ KLASÖR</h2>
                        <div class="space-y-6">
                            <div>
                                <label
                                    class="block text-[10px] font-black text-white/20 mb-2 uppercase tracking-widest">Klasör
                                    Adı</label>
                                <input id="hubDesktopFolderNameInput" type="text" placeholder="Örn: Ders Notları"
                                    class="w-full hub-modal-input-glass rounded-xl px-4 py-3 text-white font-black text-sm">
                            </div>
                            <div>
                                <label
                                    class="block text-[10px] font-black text-white/20 mb-2 uppercase tracking-widest">Klasör
                                    Şifresi (Opsiyonel)</label>
                                <input id="hubDesktopFolderPasswordInput" type="password"
                                    placeholder="Bırakırsanız şifresiz olur"
                                    class="w-full hub-modal-input-glass rounded-xl px-4 py-3 text-white font-black text-sm">
                            </div>
                            <button id="hubDesktopCreateFolderSubmit"
                                class="w-full bg-white text-[#0B0F1A] font-black py-5 rounded-2xl uppercase tracking-widest text-xs mt-4">Klasör
                                Oluştur</button>
                        </div>
                    </div>
                </div>

                <div id="hubDesktopMoveModal" class="hub-desktop-modal-overlay">
                    <div class="hub-desktop-modal-content w-full max-w-lg p-10 relative">
                        <button class="hub-desktop-close-modal absolute top-8 right-8 text-white/20"><i
                                data-lucide="x"></i></button>
                        <h2 class="text-2xl font-black uppercase text-center mb-4 italic text-white">DOSYA TAŞI</h2>
                        <p id="moveFileName" class="text-center text-white/40 text-sm mb-6"></p>
                        <div class="space-y-4">
                            <p class="text-[10px] font-black text-white/20 uppercase tracking-widest">Hedef Klasör Seç:
                            </p>
                            <div id="hubDesktopFolderList" class="max-h-60 overflow-y-auto space-y-2 custom-scrollbar">
                            </div>
                            <button onclick="moveDesktopHubItemToFolder('')"
                                class="w-full bg-white/10 hover:bg-white/20 text-white font-black py-4 rounded-xl uppercase tracking-widest text-xs flex items-center justify-center gap-2">
                                <i data-lucide="home" class="w-4 h-4"></i> Ana Dizine Taşı
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mobile View -->
            <div class="hub-mobile-view minimalist">
                <div class="mobile-header">
                    <div class="mobile-header-top">
                        <button class="mobile-icon-back-btn" onclick="showPage('home')">
                            <i data-lucide="chevron-left"></i>
                        </button>
                        <h1>Hub</h1>
                        <div class="mobile-header-actions">
                            <button class="mobile-icon-btn plus-btn" onclick="toggleHubFabs()" id="mobileHeaderAddBtn">
                                <i data-lucide="plus"></i>
                            </button>
                        </div>
                    </div>

                    <div class="mobile-stats-row">
                        <div class="mobile-stat-card">
                            <span class="stat-value" id="mobileHubTotalCount">0</span>
                            <span class="stat-label">Toplam</span>
                        </div>
                        <div class="mobile-stat-card">
                            <span class="stat-value" id="mobileHubFolderCount">0</span>
                            <span class="stat-label">Klasör</span>
                        </div>
                        <div class="mobile-stat-card">
                            <span class="stat-value" id="mobileHubFileCount">0</span>
                            <span class="stat-label">Dosya</span>
                        </div>
                    </div>

                    <div class="mobile-search-bar">
                        <i data-lucide="search"></i>
                        <input id="mobileHubSearchInput" type="text" placeholder="Bir şeyler ara..." autocomplete="off">
                    </div>

                    <div class="mobile-hub-filter-tabs">
                        <button class="hub-tab active" data-filter="all">Tümü</button>
                        <button class="hub-tab" data-filter="file">Dosyalar</button>
                        <button class="hub-tab" data-filter="image">Fotoğraflar</button>
                        <button class="hub-tab" data-filter="folder">Klasörler</button>
                    </div>
                </div>

                <div id="mobileHubGrid" class="mobile-modern-hub-list">
                    <!-- Mobile Hub cards will be rendered here -->
                </div>
            </div>
        </div>
    </div>

    <!-- AI Page (Unified Desktop & Mobile) -->
    <div id="aiPage" class="page minimalist">

        <!-- Desktop Header (Visible on Desktop Only) -->
        <div class="ai-desktop-header">
            <div class="ai-header-inner">
                <div class="ai-branding">
                    <div class="ai-logo-box">
                        <i data-lucide="bot"></i>
                    </div>
                    <div class="ai-text-info">
                        <h1>SENA AI <small>v2.5</small></h1>
                    </div>
                </div>
                <div class="ai-actions">
                    <div class="desktop-search-container">
                        <i data-lucide="search"></i>
                        <input id="aiSearchInputDesktop" type="text" placeholder="Asistanlarda ara..."
                            oninput="syncAiSearch(this.value)">
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile Header (Visible on Mobile Only) -->
        <div class="ai-mobile-header">
            <div class="m-nav-bar">
                <button class="m-round-btn" onclick="showPage('home')">
                    <i data-lucide="arrow-left"></i>
                </button>
                <div class="m-page-title">
                    <h2>SENA AI</h2>
                    <span class="m-version">v2.5</span>
                </div>
                <div style="width: 48px;"></div> <!-- Spacer for symmetry -->
            </div>

            <div class="m-stats-grid">
                <div class="m-stat-item">
                    <span class="m-stat-val" id="aiNotebookCount">0</span>
                    <span class="m-stat-label">ASİSTAN</span>
                </div>
                <div class="m-stat-item">
                    <span class="m-stat-val">AKTİF</span>
                    <span class="m-stat-label">DURUM</span>
                </div>
            </div>

            <div class="m-search-box">
                <i data-lucide="search"></i>
                <input id="aiSearchInput" type="text" placeholder="Bir asistan veya ders ara..." autocomplete="off"
                    oninput="syncAiSearch(this.value)">
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="ai-content-wrapper">
            <div id="adminControlsV2" class="admin-action-bar" style="display: none;">
                <div class="bar-info">
                    <div class="pulse-dot"></div>
                    <span>Yönetici Modu Aktif</span>
                </div>
                <button class="new-asistan-btn" onclick="openAddNotebookInline()">
                    <i data-lucide="plus-circle"></i> Yeni Asistan Oluştur
                </button>
            </div>

            <div id="notebookGrid" class="notebook-responsive-grid">
                <!-- Notebooks rendered via JS -->
            </div>


        </div>
    </div>

    <!-- Pop-ups & Modals -->
    <div id="adminAuthInline" class="robust-fixed-modal" style="display: none;">
        <div class="robust-modal-backdrop" onclick="closeAdminAuthInline()"></div>
        <div class="robust-modal-content">
            <div style="text-align: center; margin-bottom: 25px;">
                <div
                    style="width: 60px; height: 60px; background: #fdfaf5; border-radius: 20px; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px auto;">
                    <i data-lucide="lock" style="width: 28px; height: 28px; color: #413225;"></i>
                </div>
                <h3 style="color: #413225; margin: 0; font-weight: 900;">Yönetici Girişi</h3>
            </div>

            <input type="password" id="adminPasswordInputInline" class="premium-input-inline" placeholder="Şifre"
                style="text-align: center; border-radius: 18px; margin-bottom: 20px;">

            <div style="display: flex; gap: 12px;">
                <button onclick="closeAdminAuthInline()"
                    style="flex: 1; padding: 15px; border-radius: 15px; border: none; background: #f1ede6; color: #a69076; font-weight: 800;">İPTAL</button>
                <button onclick="verifyAdminPasswordInline()"
                    style="flex: 2; padding: 15px; border-radius: 15px; border: none; background: #413225; color: #fff; font-weight: 900;">GİRİŞ
                    YAP</button>
            </div>
        </div>
    </div>

    <div id="addNotebookInline" class="robust-fixed-modal" style="display: none;">
        <div class="robust-modal-backdrop" onclick="closeAddNotebookInline()"></div>
        <div class="robust-modal-content">
            <h3 style="color: #413225; font-weight: 900; margin-bottom: 20px;">Yeni Asistan</h3>
            <form onsubmit="addNewNotebook(event)">
                <input type="text" id="newNbTitle" placeholder="Asistan Başlığı" class="premium-input-inline"
                    style="margin-bottom: 12px;" required>
                <input type="text" id="newNbDesc" placeholder="Kısa Açıklama" class="premium-input-inline"
                    style="margin-bottom: 12px;">
                <input type="url" id="newNbLink" placeholder="NotebookLM Linki" class="premium-input-inline"
                    style="margin-bottom: 25px;" required>

                <div style="display: flex; gap: 12px;">
                    <button type="button" onclick="closeAddNotebookInline()"
                        style="flex: 1; padding: 16px; border-radius: 16px; border: none; background: #f1ede6; color: #a69076; font-weight: 800;">VAZGEÇ</button>
                    <button type="submit"
                        style="flex: 2; padding: 16px; border-radius: 16px; border: none; background: #413225; color: #fff; font-weight: 900;">OLUŞTUR</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Unified AI Assistant View Modal -->
    <div id="aiIframeModal" class="ai-iframe-modal">
        <div class="ai-iframe-content">
            <div class="ai-modal-header">
                <h3><i data-lucide="bot"></i> SENA AI ASİSTAN</h3>
                <button class="ai-modal-close" onclick="closeAiIframeModal()">
                    <i data-lucide="x"></i>
                </button>
            </div>
            <div class="ai-iframe-body">
                <iframe id="aiIframe" src="" allow="microphone; camera; clipboard-read; clipboard-write;"></iframe>
            </div>
        </div>
    </div>




    <!-- GEMINI CHAT WIDGET -->
    <div id="geminiChatWidget" class="gemini-chat-widget">
        <div class="chat-header">
            <div class="flex items-center gap-2" style="display:flex; align-items:center;">
                <i data-lucide="sparkles"></i>
                <span>SENA (AI)</span>
            </div>
            <!-- Optional Close Button if needed, or swipe down to close -->
            <button onclick="toggleGeminiChat()" class="close-chat"><i data-lucide="chevron-down"></i></button>
        </div>
        <div id="geminiChatMessages" class="chat-messages">
            <div class="message system">
                Selam! Ben SENA. Sana nasıl yardım edebilirim?
            </div>
        </div>
        <div class="chat-input-area">
            <textarea id="geminiChatInput" placeholder="Bir soru sor..." rows="1"></textarea>
            <button onclick="sendGeminiMessage()" id="geminiSendBtn"><i data-lucide="send"></i></button>
        </div>
    </div>

    <!-- Chat Toggle Button -->
    <button id="geminiToggleBtn" onclick="toggleGeminiChat()" class="gemini-toggle-btn">
        <i data-lucide="message-square"></i>
        <span>AI SOHBET</span>
    </button>

    </div> <!-- Close Content Container -->
    </div> <!-- Close Page -->

    <!-- Exams Page -->
    <div id="examsPage" class="page">
        <!-- New Mobile Exams Header -->
        <div class="mobile-header mobile-only">
            <div class="mobile-header-top">
                <button class="mobile-icon-back-btn" onclick="showPage('home')">
                    <i data-lucide="chevron-left"></i>
                </button>
                <h1>Yazılılar</h1>
                <div class="mobile-header-actions">
                    <button class="mobile-icon-btn" onclick="openAdminModal()"
                        style="display: none; background: #1a1a1a; color: #fff;" id="mobileAddExamBtn">
                        <i data-lucide="plus"></i>
                    </button>
                </div>
            </div>

            <div class="mobile-search-bar">
                <i data-lucide="search"></i>
                <input id="mobileExamSearchInput" type="text" placeholder="" autocomplete="off">
            </div>

            <div class="mobile-exam-filter-tabs">
                <button class="exam-tab active" data-filter="aktif">Sıradakiler</button>
                <button class="exam-tab" data-filter="girilen">Geçmiştekiler</button>
            </div>
        </div>

        <!-- Desktop Only Header (Modern) -->
        <header class="exams-header sticky z-50 desktop-only" style="padding: 10px 0 !important;">
            <div class="exams-header-container"
                style="display: flex !important; flex-direction: row !important; flex-wrap: nowrap !important; justify-content: center !important; align-items: center !important; gap: 40px !important; width: 100% !important; max-width: none !important;">
                <!-- NEW TITLE -->
                <div class="exams-header-title-area" onclick="showPage('home')"
                    style="cursor: pointer; margin-bottom: 0; flex-shrink: 0;">
                    <h1 class="exams-title" style="margin: 0; font-size: 24px;">YAZILI <span>AKIŞI</span></h1>
                </div>

                <div class="flex items-center gap-4"
                    style="display: flex !important; flex-direction: row !important; flex-wrap: nowrap !important; align-items: center !important; gap: 15px !important;">
                    <!-- FILTERS (Aktif / Geçmiş) -->
                    <div class="exams-filter-container"
                        style="margin-bottom: 0; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05); border-radius: 12px; padding: 4px; height: 42px; display: flex !important; flex-direction: row !important; align-items: center; min-width: 200px; flex-shrink: 0;">
                        <nav id="examFilterNav" class="exams-filter-nav no-scrollbar"
                            style="display: flex !important; flex-direction: row !important; gap: 4px; height: 100%; width: 100%;">
                            <button data-filter="aktif" class="hub-filter-btn active"
                                style="flex: 1; padding: 0 16px; font-size: 10px; border-radius: 8px; height: 100%; display: flex; align-items: center; justify-content: center; gap: 6px; white-space: nowrap;">
                                <i data-lucide="calendar" style="width: 14px; height: 14px;"></i> AKTİF
                            </button>
                            <button data-filter="girilen" class="hub-filter-btn"
                                style="flex: 1; padding: 0 16px; font-size: 10px; border-radius: 8px; height: 100%; display: flex; align-items: center; justify-content: center; gap: 6px; white-space: nowrap;">
                                <i data-lucide="check-circle" style="width: 14px; height: 14px;"></i> GEÇMİŞ
                            </button>
                        </nav>
                    </div>

                    <!-- SEARCH BAR -->
                    <div class="exams-search-area"
                        style="flex: 0 1 300px; width: 300px; height: 42px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05); border-radius: 12px; margin: 0; display: flex !important; align-items: center; min-width: 150px;">
                        <i data-lucide="search"
                            style="width: 16px; height: 16px; margin-left: 12px; color: rgba(255,255,255,0.4);"></i>
                        <input id="examSearchInput" type="text" placeholder="Yazılılarda Ara..."
                            class="exams-search-input" autocomplete="off"
                            style="font-size: 11px; font-weight: 700; background: transparent; border: none; outline: none; padding-left: 10px; color: #fff; width: 100%;">
                    </div>
                </div>
            </div>
        </header>

        <main class="exams-container desktop-only">
            <div id="examsGrid" class="card-grid">
                <!-- Exams injected here -->
            </div>
        </main>

        <div class="mobile-only">
            <div id="mobileExamsGrid" class="mobile-modern-exam-list">
                <!-- Mobile Exam cards rendered via JS -->
            </div>
        </div>
    </div>

    <!-- Exam Details Modal -->
    <div id="examDetailsModal" class="modal-overlay" onclick="if(event.target === this) closeExamModal()">
        <div class="hub-modal animate-fade">
            <!-- Integrated Close Button -->
            <button onclick="closeExamModal()" class="modal-close-btn">
                <i data-lucide="x"></i>
            </button>

            <!-- Main Content (Centered) -->
            <div class="modal-main-content">
                <div class="flex items-center gap-3 mb-4 opacity-40 text-[10px] font-black uppercase tracking-widest">
                    <span id="modalExamDotStatus" class="w-1.5 h-1.5 rounded-full"></span>
                    <span id="modalExamStatusText">YÜKLENİYOR</span>
                    <span class="mx-1">•</span>
                    <span>YAZILI SINAV</span>
                </div>

                <h4 id="modalExamSubject" class="modal-subject-title"></h4>

                <div class="space-y-6" style="display: flex; flex-direction: column; gap: 1.5rem;">
                    <!-- Info Grid -->
                    <div class="grid grid-cols-2 gap-4"
                        style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div class="modal-info-box">
                            <label class="modal-label">Tarih</label>
                            <p id="modalExamDate" class="modal-value"></p>
                        </div>
                        <div class="modal-info-box">
                            <label class="modal-label">Ders Saati</label>
                            <p id="modalExamLesson" class="modal-value"></p>
                        </div>
                    </div>

                    <div class="modal-info-box">
                        <label class="modal-label">Konular</label>
                        <p id="modalExamTopics" class="text-white/60 font-bold text-sm leading-relaxed"
                            style="color: rgba(255,255,255,0.6); font-weight: 700; font-size: 0.875rem; line-height: 1.625;">
                        </p>
                    </div>

                    <div class="grid grid-cols-2 gap-4"
                        style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div class="modal-info-box">
                            <label class="modal-label">Sayfalar</label>
                            <p id="modalExamPages" class="modal-value"></p>
                        </div>
                        <div class="modal-info-box">
                            <label class="modal-label">Senaryo</label>
                            <p id="modalExamScenario" class="modal-value"></p>
                        </div>
                    </div>

                    <!-- Action Buttons / Links - FROSTED GLASS STYLE -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4" style="display: grid; gap: 1rem;">
                        <a id="modalMebLink" href="#" target="_blank" class="modal-link-btn frosted-green hidden">
                            <i data-lucide="download-cloud"></i> MEB ÖRNEKLERİ
                        </a>
                        <a id="modalScenarioLink" href="#" target="_blank" class="modal-link-btn frosted-orange hidden">
                            <i data-lucide="file-text"></i> SENARYO İNDİR
                        </a>
                    </div>

                    <div id="modalTeacherNoteContainer" class="hidden modal-note-box">
                        <label class="modal-label" style="color: rgba(255, 107, 43, 0.8);">Hoca Notu</label>
                        <p id="modalTeacherNote" class="text-sm font-bold text-orange-500/80 leading-relaxed italic"
                            style="font-size: 0.875rem; font-weight: 700; color: rgba(255, 107, 43, 0.8); line-height: 1.625; font-style: italic;">
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Add Homework Modal -->
    <div id="homeworkModal" class="modal"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); backdrop-filter: blur(8px); z-index: 1000; justify-content: center; align-items: center;">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
                <h2 style="margin: 0;">Yeni Ödev Ekle</h2>
                <div class="form-mode-selector" style="width: 180px; margin-bottom: 0;">
                    <div id="modeGlider" class="mode-glider"></div>
                    <button type="button" class="mode-toggle-btn active"
                        onclick="switchHomeworkFormMode('detailed')">Ayrıntılı</button>
                    <button type="button" class="mode-toggle-btn"
                        onclick="switchHomeworkFormMode('quick')">Hızlı</button>
                </div>
            </div>

            <form id="homeworkForm" onsubmit="addHomework(event)">
                <!-- Detailed Form Section -->
                <div id="detailedFormSection" class="form-section">
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: #888;">Ders</label>
                        <input type="text" id="hwSubject"
                            style="width: 100%; padding: 15px; border-radius: 12px; background: #222; border: 1px solid #333; color: #fff;">
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: #888;">Açıklama</label>
                        <textarea id="hwDescription"
                            style="width: 100%; padding: 15px; border-radius: 12px; background: #222; border: 1px solid #333; color: #fff; height: 100px;"></textarea>
                    </div>
                    <div style="display: flex; gap: 20px; margin-bottom: 20px;">
                        <div style="flex: 1;">
                            <label style="display: block; margin-bottom: 8px; color: #888;">Veriliş
                                Tarihi</label>
                            <input type="date" id="hwGivenDate"
                                style="width: 100%; padding: 15px; border-radius: 12px; background: #222; border: 1px solid #333; color: #fff;">
                        </div>
                        <div style="flex: 1;">
                            <label style="display: block; margin-bottom: 8px; color: #888;">Bitiş Tarihi</label>
                            <input type="date" id="hwDueDate"
                                style="width: 100%; padding: 15px; border-radius: 12px; background: #222; border: 1px solid #333; color: #fff;">
                        </div>
                    </div>
                    <!-- Lesson Selection -->
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 8px; color: #888;">Bitiş Dersi (Takvimde
                            görünür)</label>
                        <select id="hwLesson"
                            style="width: 100%; padding: 15px; border-radius: 12px; background: #222; border: 1px solid #333; color: #fff; appearance: none; cursor: pointer;">
                            <option value="1">1. Ders</option>
                            <option value="2">2. Ders</option>
                            <option value="3">3. Ders</option>
                            <option value="4">4. Ders</option>
                            <option value="5">5. Ders</option>
                            <option value="6">6. Ders</option>
                            <option value="7">7. Ders</option>
                            <option value="8">8. Ders</option>
                        </select>
                    </div>
                </div>

                <!-- Quick Form Section -->
                <div id="quickFormSection" class="form-section" style="display: none;">
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: #888;">Ders Adı</label>
                        <input type="text" id="hwSubjectQuick" placeholder="Örn: Matematik"
                            style="width: 100%; padding: 15px; border-radius: 12px; background: #222; border: 1px solid #333; color: #fff;">
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: #888;">Son Teslim
                            Tarihi</label>
                        <input type="date" id="hwDueDateQuick"
                            style="width: 100%; padding: 15px; border-radius: 12px; background: #222; border: 1px solid #333; color: #fff;">
                    </div>
                    <div style="margin-bottom: 30px;">
                        <label style="display: block; margin-bottom: 8px; color: #888;">Türü</label>
                        <select id="hwTypeQuick"
                            style="width: 100%; padding: 15px; border-radius: 12px; background: #222; border: 1px solid #333; color: #fff; appearance: none; cursor: pointer;">
                            <option value="Normal">Normal Ödev</option>
                            <option value="Kitap Özet Yazma">Kitap Özet Yazma</option>
                            <option value="Proje Ödevi">Proje Ödevi</option>
                            <option value="Performans Ödevi (A4)">Performans Ödevi (A4)</option>
                            <option value="Getirilmesi Gereken">Getirilmesi Gereken</option>
                        </select>
                    </div>
                </div>

                <div style="display: flex; gap: 15px;">
                    <button type="button" onclick="closeHomeworkModal()"
                        style="flex: 1; padding: 15px; border-radius: 12px; background: #333; border: none; color: #fff; cursor: pointer;">İptal</button>
                    <button type="submit"
                        style="flex: 1; padding: 15px; border-radius: 12px; background: #fff; border: none; color: #000; font-weight: bold; cursor: pointer;">Kaydet</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Admin / Manage Exams Modal -->
    <div id="adminPanelModal" class="modal-overlay" onclick="if(event.target === this) closeAdminModal()">
        <div class="hub-modal animate-fade" style="max-width: 600px;">
            <div class="p-8" style="padding: 2.5rem;">
                <div class="form-header">
                    <h2 id="adminModalTitle"
                        style="margin: 0; color: #fff; font-weight: 900; text-transform: uppercase; font-size: 1.25rem; font-style: italic;">
                        YENİ YAZILI EKLE</h2>
                    <div class="form-mode-selector">
                        <div id="examModeGlider" class="mode-glider"></div>
                        <button type="button" class="mode-toggle-btn active"
                            onclick="switchExamFormMode('detailed')">Ayrıntılı</button>
                        <button type="button" class="mode-toggle-btn"
                            onclick="switchExamFormMode('quick')">Hızlı</button>
                    </div>
                </div>

                <form id="addExamForm" onsubmit="handleNewExam(event)">
                    <input type="hidden" id="editExamId" value="">

                    <!-- Quick Form Section -->
                    <div id="quickExamSection" class="form-section" style="display: none;">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 1.5rem; margin-bottom: 2rem;">
                            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                <label class="modal-label">DERS ADI</label>
                                <input type="text" id="quickExamSubject" placeholder="Örn: Tarih" class="admin-input">
                            </div>
                            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                <label class="modal-label">SINAV TARİHİ</label>
                                <input type="date" id="quickExamDate" class="admin-input">
                            </div>
                            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                <label class="modal-label">DERS SAATİ</label>
                                <select id="quickExamLesson" class="admin-input">
                                    <option value="1">1. Ders</option>
                                    <option value="2">2. Ders</option>
                                    <option value="3">3. Ders</option>
                                    <option value="4">4. Ders</option>
                                    <option value="5">5. Ders</option>
                                    <option value="6">6. Ders</option>
                                    <option value="7">7. Ders</option>
                                    <option value="8">8. Ders</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Detailed Form Section -->
                    <div id="detailedExamSection" class="form-section">
                        <div class="grid grid-cols-2 gap-6 mb-6"
                            style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                <label class="modal-label">DERS ADI</label>
                                <input type="text" id="newExamSubject" placeholder="Örn: Tarih" class="admin-input">
                            </div>
                            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                <label class="modal-label">SORUMLU ÖĞRETMEN</label>
                                <input type="text" id="newExamTeacher" placeholder="Örn: Ahmet Yılmaz"
                                    class="admin-input">
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-6 mb-6"
                            style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                <label class="modal-label">SINAV TARİHİ</label>
                                <input type="date" id="newExamDate" class="admin-input">
                            </div>
                            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                <label class="modal-label">DERS SAATİ</label>
                                <select id="newExamLesson" class="admin-input">
                                    <option value="1">1. Ders</option>
                                    <option value="2">2. Ders</option>
                                    <option value="3">3. Ders</option>
                                    <option value="4">4. Ders</option>
                                    <option value="5">5. Ders</option>
                                    <option value="6">6. Ders</option>
                                    <option value="7">7. Ders</option>
                                    <option value="8">8. Ders</option>
                                </select>
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-6 mb-6"
                            style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                <label class="modal-label">SENARYO NO</label>
                                <input type="text" id="newExamScenario" placeholder="Senaryo 1" class="admin-input">
                            </div>
                            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                <label class="modal-label">KİTAP SAYFA ARALIĞI</label>
                                <input type="text" id="newExamPages" placeholder="Örn: 24-56" class="admin-input">
                            </div>
                        </div>

                        <div class="flex flex-col gap-2 mb-6"
                            style="display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 1.5rem;">
                            <label class="modal-label">SORUMLU KONULAR (VİRGÜLLE AYIRIN)</label>
                            <textarea id="newExamTopics" placeholder="Konu 1, Konu 2..."
                                class="admin-textarea"></textarea>
                        </div>

                        <div class="grid grid-cols-2 gap-6 mb-6"
                            style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                <label class="modal-label">SENARYO (LİNK)</label>
                                <input type="text" id="newExamScenarioLink" placeholder="URL: https://..."
                                    class="admin-input">
                            </div>
                            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                <label class="modal-label">MEB ÖRNEK (LİNK)</label>
                                <input type="text" id="newExamMebLink" placeholder="URL: https://..."
                                    class="admin-input">
                            </div>
                        </div>

                        <div class="flex flex-col gap-2 mb-10"
                            style="display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 2.5rem;">
                            <label class="modal-label">HOCA NOTLARI / HATIRLATICILAR</label>
                            <textarea id="newExamTeacherNotes" placeholder="Buraya önemli notları ekleyin..."
                                class="admin-textarea"></textarea>
                        </div>
                    </div>

                    <div style="display: flex; gap: 15px;">
                        <button type="button" onclick="closeAdminModal()" class="admin-submit-btn"
                            style="background: rgba(255,255,255,0.05); color: #fff; flex: 1;">İPTAL</button>
                        <button type="submit" id="adminSubmitBtn" class="admin-submit-btn"
                            style="flex: 2;">EKLE</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    </div>
    </div>
    </div>

    <!-- Exam Notes List Modal -->
    <div id="examNotesListModal" class="modal-overlay" onclick="if(event.target === this) closeExamNotesModal()">
        <div class="hub-modal animate-fade" style="max-width: 1000px; height: 85vh;">
            <div class="hub-modal-dual hub-h-full">
                <div class="hub-sidebar hub-bg-black-40 hub-backdrop-blur-md">
                    <div class="hub-logo-container">
                        <div
                            class="hub-w-14 hub-h-14 hub-rounded-2xl hub-bg-white hub-flex hub-items-center hub-justify-center hub-font-black hub-text-black hub-text-xl hub-logo-glow">
                            9A
                        </div>
                    </div>

                    <div class="hub-sidebar-content">
                        <h2 class="hub-text-3xl hub-font-black hub-mb-2 hub-text-white hub-uppercase hub-italic hub-leading-tight"
                            id="notesModalTitleSidebar">MATERYAL</h2>
                        <p
                            class="hub-text-[10px] hub-font-bold hub-text-white-30 hub-uppercase hub-tracking-[0.3em] hub-mb-10">
                            SINAV KAYNAKLARI</p>

                        <div class="hub-sidebar-info">
                            <div class="hub-info-pill">
                                <label class="modal-label">DERS</label>
                                <span class="hub-text-lg hub-font-black hub-text-white hub-uppercase hub-italic"
                                    id="notesModalSubjectName">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="hub-mt-auto hub-pt-8">
                        <p class="text-[8px] font-black text-white/10 uppercase tracking-[0.4em]">9A SMART BOARD FILE
                            HUB</p>
                    </div>
                </div>

                <!-- Main Content (List) -->
                <div class="hub-main-content hub-bg-black-20 hub-flex hub-flex-col">
                    <div class="hub-header hub-bg-black-40 hub-backdrop-blur-md">
                        <div class="hub-header-left">
                            <h2 class="hub-text-lg hub-font-black hub-text-white hub-uppercase hub-italic"
                                style="font-size: 1.25rem;">PAYLAŞILANLAR
                            </h2>
                            <p class="hub-text-[10px] hub-font-bold hub-text-white-40 hub-uppercase hub-tracking-widest hub-mt-1"
                                style="font-size: 9px;">
                                Ders notları ve çalışma kağıtları</p>
                        </div>

                        <div class="hub-header-right">
                            <div class="hub-modal-search-box">
                                <i data-lucide="search"></i>
                                <input type="text" id="noteSearchInput" placeholder="NOTLARDA ARA..."
                                    class="hub-modal-search-input">
                            </div>

                            <button id="addNoteBtnInModal" class="hub-btn-primary">
                                <i data-lucide="plus"></i> YÜKLE
                            </button>

                            <button onclick="closeExamNotesModal()" class="hub-btn-close">
                                <i data-lucide="x"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Main Notes Grid -->
                    <div class="hub-flex-1 hub-p-8 hub-overflow-y-auto">
                        <script>
                            window.onerror = function (msg, url, lineNo) {
                                console.error('🚀 System Error:', msg, 'at', lineNo);
                                return false;
                            };
                        </script>
                        <div id="examNotesContainer" class="hub-grid hub-grid-cols-1 md:hub-grid-cols-2 hub-gap-8">
                            <!-- Notes will be rendered here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Exam Note Upload Modal -->
        <div id="examNoteUploadModal" class="modal-overlay" style="z-index: 2100;">
            <div class="hub-modal animate-fade" style="max-width: 900px;">
                <div class="hub-modal-dual">
                    <!-- Sidebar -->
                    <div class="hub-sidebar bg-black-40 backdrop-blur-md">
                        <div
                            class="hub-w-14 hub-h-14 hub-rounded-2xl hub-bg-white hub-flex hub-items-center hub-justify-center hub-font-black hub-text-black hub-text-xl hub-mb-12">
                            AT</div>
                        <h2
                            class="hub-text-3xl hub-font-black hub-mb-8 hub-text-white hub-uppercase hub-italic hub-leading-tight">
                            NOT<br /><span class="text-emerald">YÜKLE</span></h2>
                        <div class="bg-white/5 border border-white-10 rounded-2xl p-6 text-white-40 flex flex-col gap-4 font-bold uppercase tracking-widest"
                            style="font-size: 9px;">
                            <p class="flex items-center gap-2"><span class="rounded-full bg-emerald"
                                    style="width: 6px; height: 6px;"></span> TUR: MATERYAL</p>
                            <p class="flex items-center gap-2"><span class="rounded-full bg-emerald"
                                    style="width: 6px; height: 6px;"></span> SINIR: 100MB</p>
                        </div>
                        <div class="hub-mt-auto hub-pt-8">
                            <p class="text-white-10 font-black uppercase tracking-widest" style="font-size: 8px;">9A
                                SMART
                                BOARD FILE HUB</p>
                        </div>
                    </div>

                    <!-- Content -->
                    <div class="hub-main-content">
                        <div class="hub-flex hub-justify-between hub-items-center hub-mb-10">
                            <h3 class="hub-text-xl hub-font-black hub-text-white hub-uppercase hub-italic">DEPOYA AKTAR
                            </h3>
                            <button onclick="closeNoteUploadModal()" class="hub-btn-close">
                                <i data-lucide="x"></i>
                            </button>
                        </div>

                        <form id="uploadNoteForm" onsubmit="handleNoteUpload(event)">
                            <input type="hidden" id="uploadNoteExamId">
                            <div class="hub-flex hub-flex-col hub-gap-6">
                                <div class="hub-info-pill" style="background: rgba(255,255,255,0.02); padding: 1.5rem;">
                                    <label class="modal-label">KİMLİK</label>
                                    <input type="text" id="noteUploaderName" placeholder="Adınız Soyadınız" required
                                        class="hub-w-full hub-bg-transparent hub-border-none hub-text-white hub-font-bold hub-outline-none"
                                        style="font-size: 14px;">
                                </div>

                                <div class="hub-info-pill"
                                    style="background: rgba(255,255,255,0.02); padding: 1.5rem; position: relative; overflow: hidden;">
                                    <label class="modal-label">DOSYA SEÇİMİ (ÇOKLU DESTEKLENİR)</label>
                                    <div class="hub-flex hub-items-center hub-gap-4">
                                        <div class="hub-flex-1">
                                            <input type="file" id="noteFile" multiple required class="hub-hidden"
                                                onchange="document.getElementById('fileStatusText').innerText = this.files.length + ' Dosya Seçildi'">
                                            <button type="button" onclick="document.getElementById('noteFile').click()"
                                                class="hub-btn-sub">
                                                GÖZ AT
                                            </button>
                                        </div>
                                        <span id="fileStatusText"
                                            class="hub-text-[10px] hub-font-black hub-text-white-20 hub-uppercase hub-tracking-widest">Dosya
                                            Seçilmedi</span>
                                    </div>
                                </div>

                                <!-- Klasör Koruma Ayarları -->
                                <div class="hub-info-pill"
                                    style="background: rgba(255,255,255,0.02); padding: 1.25rem;">
                                    <div class="hub-flex hub-items-center hub-justify-between">
                                        <div>
                                            <label class="modal-label" style="margin-bottom: 2px;">KLASÖR
                                                ERİŞİMİ</label>
                                            <p class="hub-text-[9px] hub-font-bold hub-text-white-40">Herkes bu klasöre
                                                not ekleyebilir mi?</p>
                                        </div>
                                        <label class="hub-switch">
                                            <input type="checkbox" id="noteIsPublic" checked
                                                onchange="document.getElementById('folderPassContainer').style.display = this.checked ? 'none' : 'block'">
                                            <span class="hub-slider"></span>
                                        </label>
                                    </div>

                                    <div id="folderPassContainer"
                                        style="display: none; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(255,255,255,0.05);">
                                        <label class="modal-label">KLASÖR ŞİFRESİ BELİRLE</label>
                                        <input type="password" id="folderPassword" placeholder="Şifre belirleyin"
                                            class="hub-w-full hub-bg-transparent hub-border-none hub-text-white hub-font-bold hub-outline-none"
                                            style="font-size: 14px;">
                                    </div>
                                </div>

                                <!-- Sayfa sayısı otomatik algılanacak -->

                                <!-- Progress List -->
                                <div id="uploadStatusContainer" class="hub-hidden hub-mt-4">
                                    <div id="uploadProgressList" class="hub-flex hub-flex-col hub-gap-2">
                                        <!-- Dynamic progress items -->
                                    </div>
                                </div>

                                <div class="hub-flex hub-gap-4 hub-mt-8">
                                    <button type="button" onclick="closeNoteUploadModal()"
                                        class="hub-flex-1 hub-btn-ghost">İPTAL ET</button>
                                    <button type="submit" id="submitUploadBtn" class="hub-flex-1 hub-btn-premium"
                                        style="flex: 2;">BULUTA AKTAR</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Homework Detail Modal -->
        <div id="homeworkDetailModal" class="modal"
            style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); backdrop-filter: blur(8px); z-index: 1000; justify-content: center; align-items: center;">
            <div class="modal-content"
                style="background: #1a1a1a; padding: 40px; border-radius: 30px; width: 500px; border: 1px solid rgba(255,255,255,0.1);">
                <div
                    style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 25px;">
                    <h2 id="detailSubject" style="font-size: 28px;"></h2>
                    <div style="display: flex; gap: 10px;">
                        <button id="editHomeworkBtn"
                            style="background: rgba(52, 152, 219, 0.1); border: 1px solid rgba(52, 152, 219, 0.2); color: #3498db; padding: 8px 15px; border-radius: 10px; cursor: pointer; font-size: 13px; font-weight: 600;">Düzenle</button>
                        <button id="deleteHomeworkBtn"
                            style="background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.2); color: #ef4444; padding: 8px 15px; border-radius: 10px; cursor: pointer; font-size: 13px; font-weight: 600;">Ödevi
                            Sil</button>
                    </div>
                </div>
                <p id="detailDescription" style="color: #ddd; line-height: 1.6; margin-bottom: 30px; font-size: 16px;">
                </p>
                <div
                    style="background: rgba(255,255,255,0.03); padding: 20px; border-radius: 18px; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
                    <div>
                        <label style="display: block; font-size: 12px; color: #888; margin-bottom: 5px;">VERİLİŞ
                            TARİHİ</label>
                        <div id="detailGivenDate" style="font-weight: 600;"></div>
                    </div>
                    <div>
                        <label style="display: block; font-size: 12px; color: #888; margin-bottom: 5px;">BİTİŞ
                            TARİHİ</label>
                        <div id="detailDueDate" style="font-weight: 600; color: #ef4444;"></div>
                    </div>
                    <div>
                        <label style="display: block; font-size: 12px; color: #888; margin-bottom: 5px;">DERS</label>
                        <div id="detailLesson" style="font-weight: 600;"></div>
                    </div>
                </div>
                <button onclick="closeHomeworkDetailModal()"
                    style="width: 100%; padding: 15px; border-radius: 12px; background: #fff; border: none; color: #000; font-weight: bold; cursor: pointer;">Kapat</button>
            </div>
        </div>

        <!-- Today's Homework Modal -->
        <div id="todayHomeworkModal" class="modal"
            style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); backdrop-filter: blur(12px); z-index: 1100; justify-content: center; align-items: center;">
            <div class="modal-content"
                style="background: #111; padding: 40px; border-radius: 35px; width: 550px; border: 1px solid rgba(255,255,255,0.08); max-height: 80vh; display: flex; flex-direction: column;">
                <div
                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; flex-shrink: 0;">
                    <div>
                        <h2 style="font-size: 24px; margin-bottom: 5px;">Bugünkü Ödevler</h2>
                        <p id="todayDate" style="color: #888; font-size: 14px;"></p>
                    </div>
                    <button onclick="closeTodayHomeworkModal()"
                        style="background: rgba(255,255,255,0.05); border: none; color: #fff; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 20px;">×</button>
                </div>
                <div id="todayHomeworkList" style="overflow-y: auto; flex: 1; padding-right: 5px;">
                    <!-- Today's homework will be listed here -->
                </div>
            </div>
        </div>

        <!-- Tomorrow's Schedule Modal (Liquid Glass Style) -->
        <div id="tomorrowScheduleModal" class="modal"
            style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); backdrop-filter: blur(25px) saturate(180%); -webkit-backdrop-filter: blur(25px) saturate(180%); z-index: 2000; justify-content: center; align-items: center; padding: 20px;">
            <div class="modal-content animate-fade-in"
                style="background: rgba(20, 20, 20, 0.4); padding: 40px; border-radius: 40px; width: 100%; max-width: 550px; border: 1px solid rgba(255,255,255,0.15); box-shadow: 0 40px 100px rgba(0,0,0,0.6), inset 0 0 40px rgba(255,255,255,0.02); position: relative; overflow: hidden;">
                <!-- Rim Highlight -->
                <div
                    style="position: absolute; top: 0; left: 0; right: 0; height: 1px; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);">
                </div>

                <div
                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 35px; position: relative; z-index: 1;">
                    <div>
                        <p
                            style="color: rgba(255,255,255,0.4); font-size: 10px; font-weight: 800; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 5px;">
                            GELECEK PROGRAM</p>
                        <h2 id="tomorrowDayHeader"
                            style="font-size: 32px; font-weight: 900; font-style: italic; letter-spacing: -1px;">YARIN
                        </h2>
                    </div>
                    <button onclick="closeTomorrowScheduleModal()"
                        style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.1); color: #fff; width: 45px; height: 45px; border-radius: 20px; cursor: pointer; font-size: 24px; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">
                        <i data-lucide="x" style="width: 20px; height: 20px;"></i>
                    </button>
                </div>

                <div id="tomorrowScheduleList"
                    style="overflow-y: auto; max-height: 55vh; padding-right: 5px; display: flex; flex-direction: column; gap: 15px; position: relative; z-index: 1;">
                    <!-- Tomorrow's schedule will be listed here -->
                </div>

                <div
                    style="margin-top: 30px; text-align: center; opacity: 0.3; font-size: 10px; font-weight: 800; letter-spacing: 1px;">
                    9A AKILLI TAHTA SİSTEMİ
                </div>
            </div>
        </div>


        <!-- Add Homework Modal -->
        <div id="homeworkModal" class="modal"
            style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); backdrop-filter: blur(8px); z-index: 1100; justify-content: center; align-items: center;">
            <div class="modal-content premium">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
                    <h2 style="margin: 0; font-size: 24px;">Yeni Ödev Ekle</h2>
                    <button onclick="closeHomeworkModal()"
                        style="background: transparent; border: none; color: #666; cursor: pointer;">
                        <i data-lucide="x"></i>
                    </button>
                </div>

                <!-- Mode Toggle -->
                <div class="mode-toggle"
                    style="display: flex; background: rgba(255,255,255,0.05); padding: 5px; border-radius: 12px; margin-bottom: 25px; position: relative; overflow: hidden;">
                    <button type="button" class="mode-toggle-btn active" onclick="switchHomeworkFormMode('detailed')"
                        style="flex: 1; padding: 10px; border-radius: 8px; border: none; background: transparent; color: #fff; cursor: pointer; font-size: 13px; font-weight: 600; position: relative; z-index: 1; transition: all 0.3s;">Detaylı</button>
                    <button type="button" class="mode-toggle-btn" onclick="switchHomeworkFormMode('quick')"
                        style="flex: 1; padding: 10px; border-radius: 8px; border: none; background: transparent; color: #888; cursor: pointer; font-size: 13px; font-weight: 600; position: relative; z-index: 1; transition: all 0.3s;">Hızlı</button>
                    <div id="modeGlider"
                        style="position: absolute; top: 5px; left: 5px; width: calc(50% - 5px); height: calc(100% - 10px); background: #222; border-radius: 8px; transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); z-index: 0;">
                    </div>
                </div>

                <form id="homeworkForm" onsubmit="addHomework(event)">
                    <!-- Detailed Form -->
                    <div id="detailedFormSection">
                        <div class="form-group">
                            <label>Ödev Konusu</label>
                            <input type="text" id="hwSubject" required placeholder="Örn: 2. Dereceden Denklemler">
                        </div>
                        <div class="form-group">
                            <label>Açıklama</label>
                            <textarea id="hwDescription" required rows="3"
                                placeholder="Örn: Sayfa 45-56 arası tüm sorular"></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Veriliş Tarihi</label>
                                <input type="date" id="hwGivenDate" required>
                            </div>
                            <div class="form-group">
                                <label>Son Teslim</label>
                                <input type="date" id="hwDueDate" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Teslim Dersi</label>
                            <select id="hwLesson">
                                <option value="1">1. Ders</option>
                                <option value="2">2. Ders</option>
                                <option value="3">3. Ders</option>
                                <option value="4">4. Ders</option>
                                <option value="5">5. Ders</option>
                                <option value="6">6. Ders</option>
                                <option value="7">7. Ders</option>
                                <option value="8">8. Ders</option>
                            </select>
                        </div>
                    </div>

                    <!-- Quick Form -->
                    <div id="quickFormSection" style="display: none;">
                        <div class="form-group">
                            <label>Ne Ödevi?</label>
                            <input type="text" id="hwSubjectQuick" placeholder="Örn: Tarih Özeti">
                        </div>
                        <div class="form-group">
                            <label>Hangi Güne?</label>
                            <input type="date" id="hwDueDateQuick">
                        </div>
                        <div class="form-group">
                            <label>Ödev Tipi</label>
                            <select id="hwTypeQuick">
                                <option value="Alıştırma">Alıştırma</option>
                                <option value="Proje">Proje</option>
                                <option value="Okuma">Okuma</option>
                                <option value="Ezber">Ezber</option>
                            </select>
                        </div>
                    </div>

                    <div style="margin-top: 30px;">
                        <button type="submit" class="btn-primary"
                            style="width: 100%; padding: 16px; font-size: 16px;">Ödevi Sisteme İşle</button>
                    </div>
                </form>
            </div>
        </div>


        <!-- Edit Homework Modal -->
        <div id="editHomeworkModal" class="modal"
            style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); backdrop-filter: blur(8px); z-index: 1100; justify-content: center; align-items: center;">
            <div class="modal-content premium">
                <h2>Ödevi Düzenle</h2>
                <form id="editHomeworkForm">
                    <input type="hidden" id="editHwId">
                    <div class="form-group">
                        <label>Konu</label>
                        <input type="text" id="editHwSubject" required placeholder="Örn: Matematik">
                    </div>
                    <div class="form-group">
                        <label>Açıklama</label>
                        <textarea id="editHwDescription" required rows="3" placeholder="Ödev detayları..."></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Veriliş Tarihi</label>
                            <input type="date" id="editHwGivenDate" required>
                        </div>
                        <div class="form-group">
                            <label>Bitiş Tarihi</label>
                            <input type="date" id="editHwDueDate" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Ders Saati</label>
                        <select id="editHwLesson">
                            <option value="1">1. Ders</option>
                            <option value="2">2. Ders</option>
                            <option value="3">3. Ders</option>
                            <option value="4">4. Ders</option>
                            <option value="5">5. Ders</option>
                            <option value="6">6. Ders</option>
                            <option value="7">7. Ders</option>
                            <option value="8">8. Ders</option>
                        </select>
                    </div>
                    <div class="btn-group">
                        <button type="submit" class="btn-primary">Güncelle</button>
                        <button type="button" onclick="closeEditHomeworkModal()" class="btn-secondary">Vazgeç</button>
                    </div>
                </form>
            </div>
        </div>


        <!-- AI Admin Password Modal -->
        <div id="adminAuthModal" class="modal premium-modal-overlay"
            style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 2000; justify-content: center; align-items: center;">
            <div class="modal-content premium-modal-content" style="width: 350px; text-align: center;">
                <div
                    style="background: rgba(255,255,255,0.05); width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px;">
                    <i data-lucide="lock" style="color: #fff; width: 24px;"></i>
                </div>
                <h3 style="margin-bottom: 20px; font-size: 22px;">Yönetici Girişi</h3>
                <input type="password" id="adminPasswordInput" placeholder="Şifre" class="premium-input"
                    style="margin-bottom: 25px;">
                <button onclick="verifyAdminPassword()"
                    style="width: 100%; background: #fff; color: #000; padding: 15px; border: none; border-radius: 14px; font-weight: bold; cursor: pointer; font-size: 16px; margin-bottom: 10px;">Giriş
                    Yap</button>
                <button onclick="closeAdminAuthModal()"
                    style="background: transparent; color: #666; padding: 10px; border: none; cursor: pointer; font-size: 14px;">Vazgeç</button>
            </div>
        </div>

        <!-- Add Notebook Modal -->
        <div id="addNotebookModal" class="modal premium-modal-overlay"
            style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 2001; justify-content: center; align-items: center;">
            <div class="modal-content premium-modal-content" style="width: 500px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                    <h2 style="font-size: 24px;">Yeni Not Defteri Ekle</h2>
                </div>
                <form onsubmit="addNewNotebook(event)">
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label style="display: block; color: #888; margin-bottom: 10px; font-size: 13px;">BAŞLIK</label>
                        <input type="text" id="newNbTitle" required placeholder="Örn: Tarih Notları"
                            class="premium-input">
                    </div>
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label
                            style="display: block; color: #888; margin-bottom: 10px; font-size: 13px;">AÇIKLAMA</label>
                        <input type="text" id="newNbDesc" placeholder="Kısa açıklama..." class="premium-input">
                    </div>
                    <div class="form-group" style="margin-bottom: 30px;">
                        <label style="display: block; color: #888; margin-bottom: 10px; font-size: 13px;">NOTEBOOKLM
                            LINKI</label>
                        <input type="url" id="newNbLink" required placeholder="https://notebooklm.google.com/..."
                            class="premium-input">
                    </div>
                    <div style="display: flex; gap: 15px;">
                        <button type="button" onclick="closeAddNotebookModal()"
                            style="flex:1; background: rgba(255,255,255,0.05); color: #fff; border: none; padding: 16px; border-radius: 14px; cursor: pointer; font-weight: 600;">İptal</button>
                        <button type="submit"
                            style="flex:1; background: #fff; color: #000; border: none; padding: 16px; border-radius: 14px; font-weight: bold; cursor: pointer;">Oluştur</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Edit Notebook Modal -->
        <div id="editNotebookModal" class="modal premium-modal-overlay"
            style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 2005; justify-content: center; align-items: center;">
            <div class="modal-content premium-modal-content" style="width: 500px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                    <h2 style="font-size: 24px;">Not Defterini Düzenle</h2>
                </div>
                <form id="editNotebookForm" onsubmit="handleUpdateNotebook(event)">
                    <input type="hidden" id="editNbId">
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label style="display: block; color: #888; margin-bottom: 10px; font-size: 13px;">BAŞLIK</label>
                        <input type="text" id="editNbTitle" required placeholder="Örn: Tarih Notları"
                            class="premium-input">
                    </div>
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label
                            style="display: block; color: #888; margin-bottom: 10px; font-size: 13px;">AÇIKLAMA</label>
                        <input type="text" id="editNbDesc" placeholder="Kısa açıklama..." class="premium-input">
                    </div>
                    <div class="form-group" style="margin-bottom: 30px;">
                        <label style="display: block; color: #888; margin-bottom: 10px; font-size: 13px;">NOTEBOOKLM
                            LINKI</label>
                        <input type="url" id="editNbLink" required placeholder="https://notebooklm.google.com/..."
                            class="premium-input">
                    </div>
                    <div style="display: flex; gap: 15px;">
                        <button type="button" onclick="closeEditNotebookModal()"
                            style="flex:1; background: rgba(255,255,255,0.05); color: #fff; border: none; padding: 16px; border-radius: 14px; cursor: pointer; font-weight: 600;">İptal</button>
                        <button type="submit"
                            style="flex:1; background: #4caf50; color: #fff; border: none; padding: 16px; border-radius: 14px; font-weight: bold; cursor: pointer;">Güncelle</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Admin Context Modal -->
        <div id="adminContextModal" class="modal premium-modal-overlay"
            style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 2002; justify-content: center; align-items: center;">
            <div class="modal-content premium-modal-content" style="width: 500px;">
                <h2 style="font-size: 24px; margin-bottom: 20px;">Anlık Bildirim (AI Öncelikli Bilgi)</h2>
                <p style="color: #666; font-size: 13px; margin-bottom: 20px;">Buraya girdiğiniz not, AI asistanının en
                    öncelikli bilgisi olacaktır. (Örn: "Yarın ilk ders boş", "Bugün kantin kapalı")</p>

                <textarea id="adminContextInput" rows="4" class="premium-input"
                    style="height: auto; resize: vertical; margin-bottom: 20px;"
                    placeholder="AI için anlık bilgi giriniz..."></textarea>

                <div style="display: flex; gap: 15px;">
                    <button onclick="closeAdminContextModal()"
                        style="flex:1; background: rgba(255,255,255,0.05); color: #fff; border: none; padding: 16px; border-radius: 14px; cursor: pointer; font-weight: 600;">İptal</button>
                    <button onclick="saveAdminContext()"
                        style="flex:1; background: #ff9800; color: #fff; border: none; padding: 16px; border-radius: 14px; font-weight: bold; cursor: pointer;">Kaydet</button>
                </div>
            </div>
        </div>

        <!-- Mobile Back Button (Liquid Glass) -->
        <div id="mobileBackBtn" class="mobile-back-btn" onclick="showPage('home')">
            <i data-lucide="chevron-left"></i>
            <span>Geri Dön</span>
        </div>

        <!-- Mobile Bottom Navigation (Commented Out) -->
        <!-- 
        <nav class="mobile-app-dock">
            <a onclick="showPage('home')" id="mobile-nav-home" class="dock-item active">
                <i data-lucide="home"></i>
                <span>HOME</span>
            </a>
            <a onclick="showPage('homework')" id="mobile-nav-homework" class="dock-item">
                <i data-lucide="clipboard-list"></i>
                <span>ÖDEV</span>
            </a>
            <a onclick="showPage('exams')" id="mobile-nav-exams" class="dock-item">
                <i data-lucide="edit-3"></i>
                <span>SINAV</span>
            </a>
            <a onclick="showPage('hub')" id="mobile-nav-hub" class="dock-item">
                <i data-lucide="compass"></i>
                <span>HUB</span>
            </a>
            <a onclick="showPage('ai')" id="mobile-nav-ai" class="dock-item">
                <i data-lucide="message-square"></i>
                <span>SENA</span>
            </a>
        </nav>
        -->

        <!-- Mobile Back Button (Liquid Glass) -->
        <button id="mobileBackBtn" class="mobile-back-btn" onclick="showPage('home')">
            <i data-lucide="chevron-left"></i> GERİ DÖN
        </button>

        <script src="js/data.js"></script>
        <script src="js/notebooks_sync.js"></script>
        <script src="js/homework_sync_v2.js"></script>
        <script src="js/exams_sync.js"></script>
        <script src="js/exam_notes_sync.js"></script>
        <script src="js/exams_core.js"></script>
        <script src="js/schedule.js"></script>
        <script src="js/gemini_service.js"></script>
        <script src="js/ai_manager.js?v=2.1"></script>
        <script src="js/homework.js"></script>
        <script src="js/hub_core.js"></script>
        <script src="js/weather.js"></script>
        <script src="js/calendar_sync.js"></script>
        <script src="js/calendar.js"></script>
        <script src="js/app.js"></script>
</body>

</html>